<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="net.frog.dao.UserDao">
	<resultMap type="UserVO" id="userResultMap">
    	<id column="no" property="no"/>
	    <result column="user_name" property="userName"/>
	    <result column="user_email" property="userEmail"/>
	    <result column="password" property="password"/>
	   	<result column="sex" property="sex"/>
	    <result column="birth_date" property="birthDate" javaType="java.sql.Date"/>
	    <result column="created_date" property="createdDate" javaType="java.sql.Date"/>
	    <result column="last_date" property="lastDate" javaType="java.sql.Date"/>
	    <result column="image_path" property="imagePath"/>
	</resultMap>
 
 	<select id="selectList" resultMap="userResultMap">
		select * from b_users limit #{offset},#{limit}
	</select>
	 
	<select id="count" resultType="int">
		select count(*) from b_users
	</select>
    
    <!-- 
	<insert id="insert" parameterType="userVO">
		insert into b_users(user_name,user_email,password,birth_date,sex,created_date,last_date,image_path)
		values (#{userName},#{userEmail},#{password},#{birthDate},#{sex},now(),now(),#{imagePath})
	</insert>
	-->
	
	<insert id="insert" parameterType="UserVO">
		insert into b_users(user_name,user_email,password,created_date,last_date)
		values (#{userName},#{userEmail},#{password},now(),now())
	</insert>
  
	<update id="update" parameterType="UserVO">
  		update b_users set password=#{password},last_date=now() ,user_name=#{userName}
  		where user_email=#{userEmail}
  	</update>
  
  	<delete id="delete">
  		delete from b_users where user_email=#{userEmail} and  password=#{password}
  	</delete>
  	
  	<select id="login" resultType="int">
  	select  count(*) from b_users where  user_email=#{userEmail} and  password=#{password}
  	</select>
  	
  	
  		
</mapper>